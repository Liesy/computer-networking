## 第三章 运输层

#### 智能19 李阳 201900170249

### P23

设窗口大小为 $w$，序号空间长度为 $k$

- 对于GBN协议而言，基序号之前的分组是已被确认交付的，而乱序到来的分组均会被丢弃，所以只需 $w\leqslant k$ 即可保证接收方在一个窗口内不会同时出现两个相同序号的待确认的分组，从而避免“是一个新分组还是一次重传”问题。
- 对于SR协议而言，窗口长度必须小于等于序号空间大小的一半，即 $w\leqslant \frac{1}{2}k$ 。

### P40

1. TCP慢启动的时间为$\left[1,6\right]$和$\left[23，26\right]$ 。
2. TCP拥塞避免的时间为$\left[6,16\right]$和$\left[17,22\right]$ 。
3. 在16个传输轮回之后，报文段的丢失是根据3个冗余ACK。
4. 在22个传输轮回之后，报文段的丢失是根据超时检测。
5. ssthresh的初值为32 。
6. 在第18个传输轮回期间ssthresh被调整为21。
7. 在第24个传输轮回期间ssthresh被调整为14$(\left\lfloor 14.5\right\rfloor )$。
8. 在前5个传输轮回中共传输$1+2+4+8+16=31$个，在第6个传输轮回传输32个数据包，共传送$31+32=63$个，在第7个传输轮回中将传输33个数据包，即数据包 $64-96$ 会在第7个传输轮回中完成。
9. 进入快速恢复阶段，拥塞窗口长度设为$8/2+3=7$，ssthresh设为$8/2=4$ 。
10. 进入拥塞避免状态，拥塞窗口长度设为 $1$，ssthresh设为 $42/2=21$ 。
11. 共发送了$1+2+4+8+16+21=52$个。

### P52

设传输总量为 $T$ ，则

$T=\frac{W}{2}+\frac{W}{2}(1+a)+\frac{W}{2}(1+a)^2+\cdots+W=\frac{\frac{W}{2}(1-(1+a)^n)}{1-(1+a)}=\frac{W(2a+1)}{2a}$

$\therefore$ 丢包率 $L=\frac{1}{T}=\frac{2a}{W(2a+1)}$ 是一个与吞吐量无关的定值

$\therefore$ 无论吞吐量如何，需要的时间均为$RTT\times\log_{a+1}2$

证毕。