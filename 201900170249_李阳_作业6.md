## 第六章 链路层和局域网

#### 智能19 李阳 201900170249

### P14

IP地址和MAC地址分配如下：

<img src="D:\大二下\计网\computer-networking\image\1.jpg" alt="1" style="zoom:80%;" />

3. ① E中的**转发表**确定数据包应路由至接口192.168.3.002。

   ② E中的**适配器**创建具有以太网目的地址88-88-88-88-88-88的以太网数据包。

   ③ 路由器Router2接收到数据包并提取数据报，其转发表指示数据报应被路由至192.168.2.002，然后通过其IP地址为192.168.2.003的接口发送 [目的地址为33-33-33-33-33-33，源地址为55-55-55-55-55-55] 的以太网分组。

   ④ 重复③中的转发过程，直到数据包到达主机B。

4. E中的ARP必须先确定192.168.3.002的MAC地址，即主机E先在广播以太网内发送ARP查询包，Router2接收查询包并向主机E发送ARP响应包（此包由以太网帧承载，目的地址为77-77-77-77-77-77）。得到MAC地址后即可重复上题步骤进行发送。

### P15

1. 不会。E检查主机F的IP地址和子网前缀，得知F在同一个局域网内，则不需要将数据包发向R1。

   其中：源IP = E的IP，源MAC = E的MAC；目的IP = F的IP，目的MAC = F的MAC。

2. 不需要，E和B不在一个局域网内（E可以通过检查B的IP地址来得知这个信息）。

   源IP = E的IP，源MAC = E的MAC；目的IP = B的IP，目的MAC = R1与E所在的子网对应的MAC地址。

3. 交换机S1通过它的所有接口向其他路由器或主机广播以太网帧，且因为是主机A发送的ARP请求报文，所以S1会在其交换机表中记录主机A对应的条目。

   R1也会收到ARP请求，但不会继续向子网3做转发。

   主机B不需要发送ARP请求报文来查询主机A的MAC地址，因为主机A的MAC地址已经在A发送到的查询信息中显示了。

   S1收到B的响应报文，更新B对应的交换机表条目，删除接收到的帧（因为A和B在同一个接口）。